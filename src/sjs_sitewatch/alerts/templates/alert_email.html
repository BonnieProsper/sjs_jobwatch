{% extends "base.html" %}

{% block content %}
<h1>SJS Sitewatch Alerts</h1>

<p>{{ alerts | length }} new update(s) detected.</p>

{% for alert in alerts %}
  <div class="alert">
    <strong>{{ alert.title }}</strong><br>
    <em>{{ alert.category }} â€“ {{ alert.region }}</em>
    <p>{{ alert.summary }}</p>
  </div>
{% endfor %}
{% endblock %}

# from alert_email.html, TODO: consolidate
{% extends "base.html" %}

{% block content %}
<h1>Job Market Update</h1>

<p>
  Hello,<br>
  New job changes have been detected that match your alert criteria.
</p>

<p>
  <strong>Minimum severity:</strong> {{ subscription.config.min_severity.name }}<br>
  <strong>Total relevant changes:</strong> {{ jobs | length }}
</p>

<hr>

{% if jobs %}
  <ul class="job-list">
    {% for job in jobs %}
      <li>
        <h3>{{ job.title }}</h3>
        <p><strong>Region:</strong> {{ job.region }}</p>
        {% if job.url %}
          <p><a href="{{ job.url }}">View listing</a></p>
        {% endif %}
      </li>
    {% endfor %}
  </ul>
{% else %}
  <p>No matching jobs after filtering.</p>
{% endif %}

<hr>

<p class="footer">
  This alert was generated by <strong>SJS SiteWatch</strong>.
</p>
{% endblock %}
